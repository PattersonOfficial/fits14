<mat-tab-group dynamicHeight [selectedIndex]="user.client.membership.id === 4 ? 1 : 0">
  <!-------------Tab 1: Progress ------------>
  <mat-tab [disabled]="user.client.membership.id === 4">
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chart-line" class="svg-inline--fa fa-chart-line fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"></path></svg>
      </mat-icon>
      Progress
    </ng-template>
    <div>
      <app-client-meters></app-client-meters>
    </div>
  </mat-tab>

  <!-------------Tab 2: Before And After------------>
  <mat-tab >
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="camera" class="svg-inline--fa fa-camera fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"></path></svg>
      </mat-icon>
      Before And After
    </ng-template>
    <div class="main-container">
      <div class="compare-photo-title">Upload Your Photo</div>
      <div class="drag-photo-zone" ngfDrop selectable="1"
           (filesChange)="changeComboDropFile(); openModalAttach()"
           [(files)]="files" [accept]="accept" [(dragFiles)]="dragFiles" [(validDrag)]="validComboDrag"
           [class.invalid-drag]="validComboDrag===false" [class.valid-drag]="validComboDrag">

        <ngfFormData [files]="files" postName="file[]" [(FormData)]="toFormData"></ngfFormData>
        <ngfUploadStatus [(percent)]="progress" [httpEvent]="httpEvent"></ngfUploadStatus>

        <span class="drag-photo-zone-icon">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="box-open" class="svg-inline--fa fa-box-open fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"></path></svg>
        </span>
        <div class="drag-photo-zone-title">
          Click or drag and drop
        </div>
        <div class="drag-photo-zone-graph">
          In this section you can add photos of your progress,
          which you expect to add a photograph of your current
          status right now. We recommend that the photograph
          be full body and as far as possible in the same place.
        </div>
      </div>
      <div class="drag-photo-list">
        <div class="drag-photo-list-item"
             (click)="openImage(item)" *ngFor="let item of images"
             [style.background-image]="getBackground(item.image)">
          <span class="drag-photo-list-item-date">{{item.created_at}}</span>
        </div>

        <div class="drag-photo-list-item" ngfDrop selectable="1"
             (filesChange)="changeComboDropFile(); openModalAttach()"
             [(files)]="files" [accept]="accept" [(dragFiles)]="dragFiles">
          <span class="drag-photo-list-item-icon">
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="camera" class="svg-inline--fa fa-camera fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"></path></svg>
          </span>
        </div>

      </div>
    </div>

  </mat-tab>
</mat-tab-group>

<div id="m" class="modal black-overlay" #modalGallery="bs-modal" [config]="{ show: false }" bsModal>
  <div class="modal-dialog text-center">
    <div class="box padding" style="position: absolute;
  display: inline-block;
  left: 32%;">
      <img src="{{background}}" style="max-width:600px;">
      <hr>
      <div class="text-center">
        {{date}}
      </div>
    </div>
  </div>
</div>

<div id="m" class="modal" #modalRef="bs-modal" [config]="{ show: false }" bsModal>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <div class="box-header">
          <h3 class="compare-photo-title" style="margin-bottom: 0px">Attach your files</h3>
        </div>
      </div>
      <div class="modal-body text-center p-lg">
        <ngfUploadStatus [(percent)]="progress" [httpEvent]="httpEvent"></ngfUploadStatus>

        <div class="separe-table-files">
          <table class="table table-drop">
            <thead>
            <tr>
              <th>Preview</th>
              <th>Name</th>
              <th>Format</th>
              <th>Size</th>
            </tr>
            </thead>
            <tbody>

            <tr *ngFor="let item of files;let i=index">
              <td>
                <div *ngIf="['image/gif','image/png','image/jpeg'].indexOf(item.type)>=0">
                  <div class="previewIcon previewIconUpload" [ngfBackground]="item"></div>
                </div>


                <div *ngIf="['.mp4', '.3gp', '.avi', 'video/*', 'video/mp4'].indexOf(item.type)>=0">
                  <i class="fa fa-video-camera" style="padding-top: 2px; font-size: 1rem; color: #00b2e494;"></i>
                </div>
              </td>
              <td align="left" class="valign-middle">
                <strong>{{ item.name }}</strong>
              </td>
              <td nowrap align="left" class="valign-middle">
                {{ item.type }}
              </td>
              <td nowrap align="left" class="valign-middle">
                {{ item.size/1024/1024 | number:'.2' }} MB
              </td>
            </tr>
            </tbody>
          </table>

          <div>
            <div>
              <div class="progress progress-striped progress-xs" style="">
                <div class="progress-bar success" role="progressbar" [ngStyle]="{ 'width': progress + '%' }"></div>
              </div>
            </div>

            <div class="modal-footer-btn">
              <button type="button" class="btn-cancel" (click)="closeModal()" [disabled]="(!files.length)">
                ✘ Cancel
              </button>
              <button type="button" class="btn-save" (click)="uploadFiles(files)" [disabled]="(!files.length)">
                ✓ Save
              </button>
            </div>
            </div>
        </div>

      </div>
    </div>
  </div>
</div>
